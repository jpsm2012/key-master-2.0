// translations.js - Multi-language support

const translations = {
    pt: {
        // Header
        nav_home: "In√≠cio",
        nav_features: "Recursos",
        nav_converter: "Converter",
        nav_reviews: "Reviews",
        nav_about: "Sobre",

        // Hero Section
        hero_badge: "Powered by Advanced AI Technology",
        hero_title_line1: "A Nova Era da",
        hero_typewriter: '["Transcri√ß√£o Musical", "Cria√ß√£o MIDI", "Produ√ß√£o Musical", "Arte Sonora"]',
        hero_subtitle: "Transforme qualquer m√∫sica do YouTube em arquivos MIDI profissionais com precis√£o de 98%. Algoritmos de intelig√™ncia artificial treinados com milh√µes de partituras.",
        hero_cta_primary: "Come√ßar Agora ‚Äî √â Gr√°tis",
        hero_cta_secondary: "Ver Como Funciona",
        hero_stat1_label: "M√∫sicas Convertidas",
        hero_stat2_label: "Precis√£o nas Notas",
        hero_stat3_label: "Tempo de Convers√£o",
        hero_scroll: "Role para explorar",

        // Features Section
        features_eyebrow: "Recursos Exclusivos",
        features_title: "Tecnologia que Define o Futuro",
        features_subtitle: "Combinamos o poder da intelig√™ncia artificial com anos de pesquisa em teoria musical para entregar a experi√™ncia de transcri√ß√£o mais avan√ßada do mundo.",
        feature1_title: "IA de √öltima Gera√ß√£o",
        feature1_desc: "Redes neurais profundas treinadas com mais de 10 milh√µes de partituras para identifica√ß√£o precisa de cada nota, acorde e nuance musical.",
        feature2_title: "Velocidade Absurda",
        feature2_desc: "Infraestrutura de cloud computing distribu√≠da globalmente. M√∫sicas de 5 minutos processadas em menos de 5 segundos.",
        feature3_title: "Multi-Instrumento",
        feature3_desc: "Suporte nativo para piano, synths, guitarras, baixo, cordas orquestrais, metais, percuss√£o e muito mais. Perfeito para usar em games e projetos interativos.",

        // Converter Section
        converter_title: "Est√∫dio de Convers√£o",
        converter_subtitle: "Cole o link e assista a m√°gica acontecer em segundos",
        converter_label: "Link do YouTube",
        converter_placeholder: "https://www.youtube.com/watch?v=...",
        converter_mode_label: "Modo de Convers√£o",
        converter_mode_video: "V√≠deo ‚Üí MIDI",
        converter_mode_audio: "√Åudio ‚Üí MIDI",
        converter_instrument_label: "Instrumento Principal",
        converter_instrument_piano: "üéπ Piano Grand",
        converter_instrument_synth: "üéõÔ∏è Synthwave Lead",
        converter_instrument_guitar: "üé∏ Viol√£o Ac√∫stico",
        converter_instrument_strings: "üéª Orquestra Completa",
        converter_instrument_bass: "üé∏ Baixo El√©trico",
        converter_btn: "‚ö° Iniciar Convers√£o",
        converter_processing: "Processando √°udio com IA...",
        converter_success_title: "üéâ Convers√£o Conclu√≠da!",
        converter_download: "‚¨áÔ∏è Baixar Arquivo MIDI",
        converter_preview: "üéµ Preview do MIDI",

        // Testimonials Section
        testimonials_eyebrow: "Depoimentos Reais",
        testimonials_title: "O Que Dizem Nossos Usu√°rios",
        testimonials_subtitle: "Milhares de m√∫sicos e produtores j√° transformaram seu fluxo de trabalho com o Key Master.",
        testimonial1_text: "Absolutamente incr√≠vel! Consegui transcrever em 5 segundos o que levaria horas fazendo manualmente. A precis√£o nas notas √© simplesmente impressionante.",
        testimonial1_name: "Marcos Ribeiro",
        testimonial1_role: "Produtor Musical ‚Ä¢ S√£o Paulo",
        testimonial2_text: "Uso diariamente para estudar pe√ßas complexas. A qualidade do MIDI gerado √© excepcional e me permite focar 100% no aprendizado e pr√°tica.",
        testimonial2_name: "Ana Santos",
        testimonial2_role: "Pianista Profissional ‚Ä¢ Rio de Janeiro",
        testimonial3_text: "Ferramenta indispens√°vel no meu est√∫dio. Economizo pelo menos 10 horas de trabalho por semana. √â simplesmente revolucion√°rio!",
        testimonial3_name: "Lucas Costa",
        testimonial3_role: "Compositor & Arranjador ‚Ä¢ Curitiba",

        // Game Development Section
        games_eyebrow: "Para Desenvolvedores de Games",
        games_title: "Um Mundo de Sons Irados para Seus Jogos",
        games_subtitle: "Crie trilhas sonoras √©picas e efeitos musicais √∫nicos para seus games. Transforme qualquer m√∫sica em MIDI e personalize para o seu projeto.",
        games_feature1_title: "üéÆ Trilhas Din√¢micas",
        games_feature1_desc: "Crie m√∫sicas adaptativas que mudam conforme a a√ß√£o do jogo. MIDI permite controle total sobre cada nota.",
        games_feature2_title: "üéµ Efeitos Sonoros √önicos",
        games_feature2_desc: "Transforme m√∫sicas em efeitos sonoros personalizados. Perfeito para jogos indie e projetos criativos.",
        games_feature3_title: "‚ö° Performance Otimizada",
        games_feature3_desc: "Arquivos MIDI s√£o leves e eficientes. Ideal para jogos mobile e web sem comprometer a qualidade.",
        games_cta: "Come√ßar a Criar Agora",

        // About Section
        about_title: "Sobre o Projeto",
        about_text: "O <strong>Key Master</strong> nasceu da fus√£o entre tecnologia de ponta e paix√£o pela m√∫sica. Nossa miss√£o √© democratizar o acesso √† transcri√ß√£o musical profissional, permitindo que artistas de todos os n√≠veis transformem inspira√ß√£o em partitura digital com a precis√£o que antes era exclusiva de grandes est√∫dios.",
        about_founder_name: "Jo√£o Pedro Mathias",
        about_founder_role: "Founder & Lead Developer",

        // Footer
        footer_tagline: "O futuro da m√∫sica digital.",
        footer_copyright: "¬© 2026 Key Master. Todos os direitos reservados. Desenvolvido com ‚ù§Ô∏è no Brasil."
    },

    en: {
        // Header
        nav_home: "Home",
        nav_features: "Features",
        nav_converter: "Converter",
        nav_reviews: "Reviews",
        nav_about: "About",

        // Hero Section
        hero_badge: "Powered by Advanced AI Technology",
        hero_title_line1: "The New Era of",
        hero_typewriter: '["Musical Transcription", "MIDI Creation", "Music Production", "Sound Art"]',
        hero_subtitle: "Transform any YouTube music into professional MIDI files with 98% accuracy. AI algorithms trained with millions of sheet music.",
        hero_cta_primary: "Get Started ‚Äî It's Free",
        hero_cta_secondary: "See How It Works",
        hero_stat1_label: "Songs Converted",
        hero_stat2_label: "Note Accuracy",
        hero_stat3_label: "Conversion Time",
        hero_scroll: "Scroll to explore",

        // Features Section
        features_eyebrow: "Exclusive Features",
        features_title: "Technology that Defines the Future",
        features_subtitle: "We combine the power of artificial intelligence with years of music theory research to deliver the world's most advanced transcription experience.",
        feature1_title: "State-of-the-Art AI",
        feature1_desc: "Deep neural networks trained with over 10 million sheet music for precise identification of every note, chord and musical nuance.",
        feature2_title: "Blazing Speed",
        feature2_desc: "Globally distributed cloud computing infrastructure. 5-minute songs processed in less than 5 seconds.",
        feature3_title: "Multi-Instrument",
        feature3_desc: "Native support for piano, synths, guitars, bass, orchestral strings, brass, percussion and much more. Perfect for use in games and interactive projects.",

        // Converter Section
        converter_title: "Conversion Studio",
        converter_subtitle: "Paste the link and watch the magic happen in seconds",
        converter_label: "YouTube Link",
        converter_placeholder: "https://www.youtube.com/watch?v=...",
        converter_mode_label: "Conversion Mode",
        converter_mode_video: "Video ‚Üí MIDI",
        converter_mode_audio: "Audio ‚Üí MIDI",
        converter_instrument_label: "Main Instrument",
        converter_instrument_piano: "üéπ Grand Piano",
        converter_instrument_synth: "üéõÔ∏è Synthwave Lead",
        converter_instrument_guitar: "üé∏ Acoustic Guitar",
        converter_instrument_strings: "üéª Full Orchestra",
        converter_instrument_bass: "üé∏ Electric Bass",
        converter_btn: "‚ö° Start Conversion",
        converter_processing: "Processing audio with AI...",
        converter_success_title: "üéâ Conversion Complete!",
        converter_download: "‚¨áÔ∏è Download MIDI File",
        converter_preview: "üéµ MIDI Preview",

        // Testimonials Section
        testimonials_eyebrow: "Real Testimonials",
        testimonials_title: "What Our Users Say",
        testimonials_subtitle: "Thousands of musicians and producers have already transformed their workflow with Key Master.",
        testimonial1_text: "Absolutely amazing! I was able to transcribe in 5 seconds what would take hours manually. The note accuracy is simply impressive.",
        testimonial1_name: "Marcus Rivera",
        testimonial1_role: "Music Producer ‚Ä¢ Los Angeles",
        testimonial2_text: "I use it daily to study complex pieces. The quality of the generated MIDI is exceptional and allows me to focus 100% on learning and practice.",
        testimonial2_name: "Anna Smith",
        testimonial2_role: "Professional Pianist ‚Ä¢ New York",
        testimonial3_text: "Indispensable tool in my studio. I save at least 10 hours of work per week. It's simply revolutionary!",
        testimonial3_name: "Luke Cooper",
        testimonial3_role: "Composer & Arranger ‚Ä¢ Nashville",

        // Game Development Section
        games_eyebrow: "For Game Developers",
        games_title: "A World of Awesome Sounds for Your Games",
        games_subtitle: "Create epic soundtracks and unique musical effects for your games. Transform any music into MIDI and customize it for your project.",
        games_feature1_title: "üéÆ Dynamic Soundtracks",
        games_feature1_desc: "Create adaptive music that changes with game action. MIDI gives you full control over every note.",
        games_feature2_title: "üéµ Unique Sound Effects",
        games_feature2_desc: "Transform music into custom sound effects. Perfect for indie games and creative projects.",
        games_feature3_title: "‚ö° Optimized Performance",
        games_feature3_desc: "MIDI files are lightweight and efficient. Ideal for mobile and web games without compromising quality.",
        games_cta: "Start Creating Now",

        // About Section
        about_title: "About the Project",
        about_text: "<strong>Key Master</strong> was born from the fusion of cutting-edge technology and passion for music. Our mission is to democratize access to professional musical transcription, allowing artists of all levels to transform inspiration into digital sheet music with precision that was once exclusive to major studios.",
        about_founder_name: "Jo√£o Pedro Mathias",
        about_founder_role: "Founder & Lead Developer",

        // Footer
        footer_tagline: "The future of digital music.",
        footer_copyright: "¬© 2026 Key Master. All rights reserved. Made with ‚ù§Ô∏è in Brazil."
    },

    es: {
        // Header
        nav_home: "Inicio",
        nav_features: "Caracter√≠sticas",
        nav_converter: "Convertir",
        nav_reviews: "Rese√±as",
        nav_about: "Acerca de",

        // Hero Section
        hero_badge: "Impulsado por Tecnolog√≠a de IA Avanzada",
        hero_title_line1: "La Nueva Era de la",
        hero_typewriter: '["Transcripci√≥n Musical", "Creaci√≥n MIDI", "Producci√≥n Musical", "Arte Sonoro"]',
        hero_subtitle: "Transforma cualquier m√∫sica de YouTube en archivos MIDI profesionales con 98% de precisi√≥n. Algoritmos de IA entrenados con millones de partituras.",
        hero_cta_primary: "Comenzar Ahora ‚Äî Es Gratis",
        hero_cta_secondary: "Ver C√≥mo Funciona",
        hero_stat1_label: "Canciones Convertidas",
        hero_stat2_label: "Precisi√≥n de Notas",
        hero_stat3_label: "Tiempo de Conversi√≥n",
        hero_scroll: "Despl√°zate para explorar",

        // Features Section
        features_eyebrow: "Caracter√≠sticas Exclusivas",
        features_title: "Tecnolog√≠a que Define el Futuro",
        features_subtitle: "Combinamos el poder de la inteligencia artificial con a√±os de investigaci√≥n en teor√≠a musical para ofrecer la experiencia de transcripci√≥n m√°s avanzada del mundo.",
        feature1_title: "IA de √öltima Generaci√≥n",
        feature1_desc: "Redes neuronales profundas entrenadas con m√°s de 10 millones de partituras para identificaci√≥n precisa de cada nota, acorde y matiz musical.",
        feature2_title: "Velocidad Incre√≠ble",
        feature2_desc: "Infraestructura de computaci√≥n en la nube distribuida globalmente. Canciones de 5 minutos procesadas en menos de 5 segundos.",
        feature3_title: "Multi-Instrumento",
        feature3_desc: "Soporte nativo para piano, sintetizadores, guitarras, bajo, cuerdas orquestales, metales, percusi√≥n y mucho m√°s. Perfecto para usar en juegos y proyectos interactivos.",

        // Converter Section
        converter_title: "Estudio de Conversi√≥n",
        converter_subtitle: "Pega el enlace y observa la magia en segundos",
        converter_label: "Enlace de YouTube",
        converter_placeholder: "https://www.youtube.com/watch?v=...",
        converter_mode_label: "Modo de Conversi√≥n",
        converter_mode_video: "Video ‚Üí MIDI",
        converter_mode_audio: "Audio ‚Üí MIDI",
        converter_instrument_label: "Instrumento Principal",
        converter_instrument_piano: "üéπ Piano de Cola",
        converter_instrument_synth: "üéõÔ∏è Synthwave Lead",
        converter_instrument_guitar: "üé∏ Guitarra Ac√∫stica",
        converter_instrument_strings: "üéª Orquesta Completa",
        converter_instrument_bass: "üé∏ Bajo El√©ctrico",
        converter_btn: "‚ö° Iniciar Conversi√≥n",
        converter_processing: "Procesando audio con IA...",
        converter_success_title: "üéâ ¬°Conversi√≥n Completada!",
        converter_download: "‚¨áÔ∏è Descargar Archivo MIDI",
        converter_preview: "üéµ Vista Previa MIDI",

        // Testimonials Section
        testimonials_eyebrow: "Testimonios Reales",
        testimonials_title: "Lo Que Dicen Nuestros Usuarios",
        testimonials_subtitle: "Miles de m√∫sicos y productores ya han transformado su flujo de trabajo con Key Master.",
        testimonial1_text: "¬°Absolutamente incre√≠ble! Pude transcribir en 5 segundos lo que tomar√≠a horas manualmente. La precisi√≥n de las notas es simplemente impresionante.",
        testimonial1_name: "Marco Rivera",
        testimonial1_role: "Productor Musical ‚Ä¢ Madrid",
        testimonial2_text: "Lo uso diariamente para estudiar piezas complejas. La calidad del MIDI generado es excepcional y me permite enfocarme 100% en el aprendizaje y la pr√°ctica.",
        testimonial2_name: "Ana S√°nchez",
        testimonial2_role: "Pianista Profesional ‚Ä¢ Barcelona",
        testimonial3_text: "Herramienta indispensable en mi estudio. Ahorro al menos 10 horas de trabajo por semana. ¬°Es simplemente revolucionario!",
        testimonial3_name: "Lucas Costa",
        testimonial3_role: "Compositor y Arreglista ‚Ä¢ Buenos Aires",

        // Game Development Section
        games_eyebrow: "Para Desarrolladores de Juegos",
        games_title: "Un Mundo de Sonidos Incre√≠bles para Tus Juegos",
        games_subtitle: "Crea bandas sonoras √©picas y efectos musicales √∫nicos para tus juegos. Transforma cualquier m√∫sica en MIDI y personal√≠zala para tu proyecto.",
        games_feature1_title: "üéÆ Bandas Sonoras Din√°micas",
        games_feature1_desc: "Crea m√∫sica adaptativa que cambia con la acci√≥n del juego. MIDI te da control total sobre cada nota.",
        games_feature2_title: "üéµ Efectos de Sonido √önicos",
        games_feature2_desc: "Transforma m√∫sica en efectos de sonido personalizados. Perfecto para juegos indie y proyectos creativos.",
        games_feature3_title: "‚ö° Rendimiento Optimizado",
        games_feature3_desc: "Los archivos MIDI son ligeros y eficientes. Ideal para juegos m√≥viles y web sin comprometer la calidad.",
        games_cta: "Comenzar a Crear Ahora",

        // About Section
        about_title: "Sobre el Proyecto",
        about_text: "<strong>Key Master</strong> naci√≥ de la fusi√≥n entre tecnolog√≠a de punta y pasi√≥n por la m√∫sica. Nuestra misi√≥n es democratizar el acceso a la transcripci√≥n musical profesional, permitiendo que artistas de todos los niveles transformen la inspiraci√≥n en partitura digital con la precisi√≥n que antes era exclusiva de grandes estudios.",
        about_founder_name: "Jo√£o Pedro Mathias",
        about_founder_role: "Fundador y Desarrollador Principal",

        // Footer
        footer_tagline: "El futuro de la m√∫sica digital.",
        footer_copyright: "¬© 2026 Key Master. Todos los derechos reservados. Hecho con ‚ù§Ô∏è en Brasil."
    }
};

// Language Manager
class LanguageManager {
    constructor() {
        this.currentLang = localStorage.getItem('keymaster-lang') || 'pt';
        this.init();
    }

    init() {
        this.updatePageLanguage();
        this.setupLanguageSwitcher();
    }

    setLanguage(lang) {
        if (!translations[lang]) return;

        this.currentLang = lang;
        localStorage.setItem('keymaster-lang', lang);
        this.updatePageLanguage();
        this.updateActiveButton();

        // Update HTML lang attribute
        document.documentElement.lang = lang === 'pt' ? 'pt-br' : lang;

        // Restart typewriter effect with new language
        this.restartTypewriter();
    }

    updatePageLanguage() {
        const trans = translations[this.currentLang];

        // Update all elements with data-i18n attribute
        document.querySelectorAll('[data-i18n]').forEach(element => {
            const key = element.getAttribute('data-i18n');
            if (trans[key]) {
                // Check if it's an input placeholder
                if (element.tagName === 'INPUT' && element.hasAttribute('placeholder')) {
                    element.placeholder = trans[key];
                } else if (element.hasAttribute('data-i18n-html')) {
                    element.innerHTML = trans[key];
                } else {
                    element.textContent = trans[key];
                }
            }
        });

        // Update typewriter data-words attribute
        const typewriter = document.querySelector('.typewriter');
        if (typewriter && trans.hero_typewriter) {
            typewriter.setAttribute('data-words', trans.hero_typewriter);
        }
    }

    setupLanguageSwitcher() {
        const langButtons = document.querySelectorAll('.lang-btn');
        langButtons.forEach(btn => {
            btn.addEventListener('click', () => {
                const lang = btn.getAttribute('data-lang');
                this.setLanguage(lang);
            });
        });

        this.updateActiveButton();
    }

    updateActiveButton() {
        document.querySelectorAll('.lang-btn').forEach(btn => {
            btn.classList.toggle('active', btn.getAttribute('data-lang') === this.currentLang);
        });
    }

    restartTypewriter() {
        // Trigger a custom event to restart typewriter
        window.dispatchEvent(new CustomEvent('language-changed'));
    }
}

// Initialize language manager when DOM is ready
if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', () => {
        window.languageManager = new LanguageManager();
    });
} else {
    window.languageManager = new LanguageManager();
}
